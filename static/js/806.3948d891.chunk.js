"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[806],{9806:function(t,e,n){n.r(e),n.d(e,{default:function(){return R}});var r,a,c=n(2791),o=n(9434),s=n(5162),i=n(1413),l=n(9439),u="ContactForm_contactsFormWrapper__j8XWy",m="ContactForm_formContainer__TWEE2",f="ContactForm_submitButton__8wEUJ",d="ContactForm_inputWrapper__9zhfJ",h="ContactForm_inputContacts__LPCRd",v=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,e="",n=crypto.getRandomValues(new Uint8Array(t));t--;){var r=63&n[t];e+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return e},p=function(t){return t.contactsStore.contacts.items},_=function(t){return t.contactsStore.contacts.isLoading},j=function(t){return t.contactsStore.contacts.error},x=n(2722),C=n(184),b=function(){var t=(0,o.I0)(),e=(0,o.v9)(p),n=(0,c.useState)(!1),r=(0,l.Z)(n,2),a=r[0],_=r[1],j=(0,c.useState)(""),b=(0,l.Z)(j,2),g=b[0],w=b[1],y=(0,c.useState)(""),N=(0,l.Z)(y,2),I=N[0],L=N[1],S=function(t){var e=t.target.value;switch(t.target.name){case"name":return void w(e);case"number":return void L(e);default:return}};return(0,C.jsx)("div",{className:u,children:(0,C.jsxs)("form",{className:m,onSubmit:function(n){n.preventDefault();var r={name:g,number:I};""!==r.name.toLowerCase().trim()&&""!==r.number.toLowerCase().trim()&&function(n){if(e.some((function(t){return t.name.toLowerCase()===n.name.toLowerCase()||t.number.toLowerCase()===n.number.toLowerCase()})))alert("'".concat(n.name&&n.number,"' is already in contacts!"));else{var r=(0,i.Z)({id:v()},n);_(!0),t((0,s.je)(r)).then((function(){_(!1),L(""),w(""),alert("Contact added successfully!")})).catch((function(t){_(!1),alert("Error adding contact: ".concat(t))}))}}(r)},children:[(0,C.jsxs)("label",{className:d,children:[(0,C.jsx)("p",{children:"Name"}),(0,C.jsx)("input",{className:h,type:"text",name:"name",required:!0,pattern:"[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490\u0454\u0404']+",value:g,onChange:function(t){return S(t)}})]}),(0,C.jsxs)("label",{className:d,children:[(0,C.jsx)("p",{children:"Number"}),(0,C.jsx)("input",{className:h,type:"tel",name:"number",required:!0,pattern:"^\\+?\\d{1,4}[ .\\-]?\\(?\\d{1,3}\\)?[ .\\-]?\\d{1,4}[ .\\-]?\\d{1,4}[ .\\-]?\\d{1,9}$",title:"Format: XXX-XXX-XX-XX",value:I,onChange:function(t){return S(t)}})]}),(0,C.jsx)("button",{className:f,type:"submit",children:a?(0,C.jsx)(x.Z,{}):"Add contact"})]})})},g="ContactItem_contactItem__Z4FuP",w="ContactItem_deleteButton__AvFnv",y="ContactItem_contactName__ZAMAK",N="ContactItem_contactNumber__Xjnxb",I="ContactItem_svgIcon__T4txl",L=["title","titleId"];function S(){return S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S.apply(this,arguments)}function X(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},c=Object.keys(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function E(t,e){var n=t.title,o=t.titleId,s=X(t,L);return c.createElement("svg",S({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",ref:e,"aria-labelledby":o},s),n?c.createElement("title",{id:o},n):null,r||(r=c.createElement("path",{fill:"currentColor",d:"M12 12h2v12h-2zm6 0h2v12h-2z"})),a||(a=c.createElement("path",{fill:"currentColor",d:"M4 6v2h2v20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8h2V6zm4 22V8h16v20zm4-26h8v2h-8z"})))}var F=c.forwardRef(E);n.p;function O(t){var e=t.contact,n=e.id,r=e.name,a=e.number,i=(0,o.I0)(),u=(0,c.useState)(!1),m=(0,l.Z)(u,2),f=m[0],d=m[1];return(0,C.jsxs)("li",{className:g,children:[(0,C.jsx)("span",{className:y,children:r}),(0,C.jsxs)("span",{className:N,children:[" ",a]}),(0,C.jsx)("button",{className:w,type:"button",onClick:function(){!function(t){d(!0),i((0,s.xX)(t)).then((function(){d(!1),alert("Contact deleted successfully!")})).catch((function(t){d(!1),alert("Error deleting contact: ".concat(t))}))}(n)},children:f?(0,C.jsx)(x.Z,{}):(0,C.jsx)(F,{className:I})})]},n)}var Z="ContactList_contactList__n4ZkG",k="ContactList_contactListWrapper__0cTDT";function z(){var t=(0,o.v9)((function(t){return t.filtersStore.filters})),e=(0,o.v9)(p).filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return(0,C.jsx)("div",{className:k,children:(0,C.jsxs)("ul",{className:Z,children:[" ",e.map((function(t){return(0,C.jsx)(O,{contact:t},t.id)}))]})})}var A="Filter_filterWrapper__ohvAm",P=n(8355),W=function(t){return t.filtersStore.filters};function T(){var t=(0,o.I0)(),e=(0,o.v9)(W);return(0,C.jsxs)("label",{className:A,children:[(0,C.jsx)("p",{children:"Filter contacts by name:"}),(0,C.jsx)("input",{type:"text",name:"filter",value:e,onChange:function(e){return function(e){var n=e.target.value;t((0,P.T)(n))}(e)}})]})}var V="ContactsPage_contactsPageWrapper__cymND",R=function(){var t=(0,o.I0)(),e=(0,o.v9)(p),n=(0,o.v9)(_),r=(0,o.v9)(j),a=!r&&!n&&e&&e.length>0;return(0,c.useEffect)((function(){t((0,s.VC)()).then((function(){alert("Contacts downloaded successfully!")})).catch((function(t){alert("Error downloading contacts: ".concat(t))}))}),[t]),(0,C.jsxs)("div",{className:V,children:[(0,C.jsx)(b,{}),(0,C.jsx)(T,{}),null!==r&&(0,C.jsx)("p",{className:"error-bage",children:r}),(0,C.jsx)("div",{children:n&&"Request in progress..."}),a&&(0,C.jsx)(z,{})]})}}}]);
//# sourceMappingURL=806.3948d891.chunk.js.map