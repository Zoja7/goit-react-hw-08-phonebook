"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[806],{9806:function(t,e,n){n.r(e),n.d(e,{default:function(){return A}});var r,a,c=n(2791),o=n(9434),s=n(5162),i=n(1413),u=n(9439),l={formContainer:"ContactForm_formContainer__TWEE2",submitButton:"ContactForm_submitButton__8wEUJ",inputWrapper:"ContactForm_inputWrapper__9zhfJ"},m=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,e="",n=crypto.getRandomValues(new Uint8Array(t));t--;){var r=63&n[t];e+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return e},f=function(t){return t.contactsStore.contacts.items},d=function(t){return t.contactsStore.contacts.isLoading},p=function(t){return t.contactsStore.contacts.error},h=n(2722),v=n(184),_=function(){var t=(0,o.I0)(),e=(0,o.v9)(f),n=(0,c.useState)(!1),r=(0,u.Z)(n,2),a=r[0],d=r[1],p=(0,c.useState)(""),_=(0,u.Z)(p,2),x=_[0],b=_[1],j=(0,c.useState)(""),C=(0,u.Z)(j,2),g=C[0],w=C[1],y=function(t){var e=t.target.value;switch(t.target.name){case"name":return void b(e);case"number":return void w(e);default:return}};return(0,v.jsx)("div",{className:l.contactsFormWrapper,children:(0,v.jsxs)("form",{className:l.formContainer,onSubmit:function(n){n.preventDefault();var r={name:x,number:g};""!==r.name.toLowerCase().trim()&&""!==r.number.toLowerCase().trim()&&function(n){if(e.some((function(t){return t.name.toLowerCase()===n.name.toLowerCase()||t.number.toLowerCase()===n.number.toLowerCase()})))alert("'".concat(n.name&&n.number,"' is already in contacts!"));else{var r=(0,i.Z)({id:m()},n);d(!0),t((0,s.je)(r)).then((function(){d(!1),w(""),b(""),alert("Contact added successfully!")})).catch((function(t){d(!1),alert("Error adding contact: ".concat(t))}))}}(r)},children:[(0,v.jsxs)("label",{className:l.inputWrapper,children:[(0,v.jsx)("p",{children:"Name"}),(0,v.jsx)("input",{type:"text",name:"name",required:!0,pattern:"[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407\u0491\u0490\u0454\u0404']+",value:x,onChange:function(t){return y(t)}})]}),(0,v.jsxs)("label",{className:l.inputWrapper,children:[(0,v.jsx)("p",{children:"Number"}),(0,v.jsx)("input",{type:"tel",name:"number",required:!0,pattern:"^\\+?\\d{1,4}[ .\\-]?\\(?\\d{1,3}\\)?[ .\\-]?\\d{1,4}[ .\\-]?\\d{1,4}[ .\\-]?\\d{1,9}$",title:"Format: XXX-XXX-XX-XX",value:g,onChange:function(t){return y(t)}})]}),(0,v.jsx)("button",{className:l.submitButton,type:"submit",children:a?(0,v.jsx)(h.Z,{}):"Add contact"})]})})},x="ContactItem_contactItem__Z4FuP",b="ContactItem_deleteButton__AvFnv",j="ContactItem_contactName__ZAMAK",C="ContactItem_contactNumber__Xjnxb",g="ContactItem_svgIcon__T4txl",w=["title","titleId"];function y(){return y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y.apply(this,arguments)}function N(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},c=Object.keys(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function I(t,e){var n=t.title,o=t.titleId,s=N(t,w);return c.createElement("svg",y({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",ref:e,"aria-labelledby":o},s),n?c.createElement("title",{id:o},n):null,r||(r=c.createElement("path",{fill:"currentColor",d:"M12 12h2v12h-2zm6 0h2v12h-2z"})),a||(a=c.createElement("path",{fill:"currentColor",d:"M4 6v2h2v20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8h2V6zm4 22V8h16v20zm4-26h8v2h-8z"})))}var S=c.forwardRef(I);n.p;function L(t){var e=t.contact,n=e.id,r=e.name,a=e.number,i=(0,o.I0)(),l=(0,c.useState)(!1),m=(0,u.Z)(l,2),f=m[0],d=m[1];return(0,v.jsxs)("li",{className:x,children:[(0,v.jsx)("span",{className:j,children:r}),(0,v.jsxs)("span",{className:C,children:[" ",a]}),(0,v.jsx)("button",{className:b,type:"button",onClick:function(){!function(t){d(!0),i((0,s.xX)(t)).then((function(){d(!1),alert("Contact deleted successfully!")})).catch((function(t){d(!1),alert("Error deleting contact: ".concat(t))}))}(n)},children:f?(0,v.jsx)(h.Z,{}):(0,v.jsx)(S,{className:g})})]},n)}var E="ContactList_contactList__n4ZkG",X="ContactList_contactListWrapper__0cTDT";function O(){var t=(0,o.v9)((function(t){return t.filtersStore.filters})),e=(0,o.v9)(f).filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return(0,v.jsx)("div",{className:X,children:(0,v.jsxs)("ul",{className:E,children:[" ",e.map((function(t){return(0,v.jsx)(L,{contact:t},t.id)}))]})})}var Z="Filter_filterWrapper__ohvAm",k=n(8355),F=function(t){return t.filtersStore.filters};function W(){var t=(0,o.I0)(),e=(0,o.v9)(F);return(0,v.jsxs)("label",{className:Z,children:[(0,v.jsx)("p",{children:"Filter contacts by name:"}),(0,v.jsx)("input",{type:"text",name:"filter",value:e,onChange:function(e){return function(e){var n=e.target.value;t((0,k.T)(n))}(e)}})]})}var z="ContactsPage_contactsPageWrapper__cymND",A=function(){var t=(0,o.I0)(),e=(0,o.v9)(f),n=(0,o.v9)(d),r=(0,o.v9)(p),a=!r&&!n&&e&&e.length>0;return(0,c.useEffect)((function(){t((0,s.VC)()).then((function(){alert("Contacts downloaded successfully!")})).catch((function(t){alert("Error downloading contacts: ".concat(t))}))}),[t]),(0,v.jsxs)("div",{className:z,children:[(0,v.jsx)("h1",{children:"Contacts Page"}),(0,v.jsx)(_,{}),(0,v.jsx)(W,{}),null!==r&&(0,v.jsx)("p",{className:"error-bage",children:r}),(0,v.jsx)("div",{children:n&&"Request in progress..."}),a&&(0,v.jsx)(O,{})]})}}}]);
//# sourceMappingURL=806.bb2acbd0.chunk.js.map